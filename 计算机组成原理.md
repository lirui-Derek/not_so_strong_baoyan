# 1、计算机硬件的基本组成

存储器		主存和辅存

控制器		由程序计数器（PC）、指令寄存器（IR），控制单元（CU）

运算器		算术逻辑单元（ALU）

输入设备

输出设备



# 2、冯诺依曼机

“存储程序”的思想

特点：

- 计算机硬件五大部件：存储器、控制器、运算器、输入设备、输出设备
- 指令和数据以同等地位存储在存储器中，按地址寻访
- 指令和数据均以二进制代码表示
- 指令由操作码和操作数
- 指令在存储器内按顺序存放
- 早期冯诺依曼机以运算器为中学。现代计算机以存储器为中心



# 3、编译，解释型语言

编译型语言编写的程序在执行之前需要专门的编译过程，把程序编译为可执行文件，如果源程序不变以后运行不用重新编译。

解释型语言不需要编译，在运行程序的时候才翻译，不生成目标程序，解释型语言没执行一次就要翻译一次，效率较低。



# 4、存储器

1、主存储器

2、辅助存储器，外存

3、高速缓存存储器cache

## 多级存储器



# 5、高速缓冲存储器

![image-20220810095544194](C:\Users\lirui\AppData\Roaming\Typora\typora-user-images\image-20220810095544194.png)

## 局部性原理

时间局部性

最近的未来要用到的信息很可能是现在正在使用的信息，因为程序中存在循环。

空间局部性

最近的未来要用到的信息，很可能与现在正在使用的信息在存储空间上是邻近的，因为指令通常是顺序存放、顺序执行的。

## Cache通常由SRAM构成。

### cache和主存的映射方式

1、直接映射：主存中每一块只能装入Cache中的唯一位置。

2、全相联映射：主存中每一块能装入Cache中的任何位置；灵活

3、组相联映射：将cache空间分成大小相同的组，主存的一个数据块可以装入一组内的任何一个位置，即组间采取直接映射，而组内采取全相联映射。

## cache写策略

写命中，更新内容：

1、写直达法

2、写回法

写不命中：

1、写分配法

2、非写分配法



# 6、虚拟存储器

## 快表TLB

## 段页式虚拟存储器

## 虚拟存储器与Cache的比较

相同之处：

![image-20220810111915372](C:\Users\lirui\AppData\Roaming\Typora\typora-user-images\image-20220810111915372.png)

不同之处：

![image-20220810111928290](C:\Users\lirui\AppData\Roaming\Typora\typora-user-images\image-20220810111928290.png)

# 7、指令流水线

计算机的流水线把一个重复的过程分解为若干个子过程，每个子过程与其他子过程并行执行。指令并行处理技术。

三级流水：取指、分析、执行

五级流水：取指、译码、执行、访存和写回



## 影响流水线的因素

1、数据冲突（数据冒险）

2、控制冲突（控制冒险）

3、





# 8、I/O控制方式

1. 程序查询方式。由CPU通过程序不断查询I/O设备是否已经做好准备，从而控制I/O设备与主机交换信息。

2. 程序中断方式。只有I/O设备就绪并向CPU发出中断请求时才予以响应。

3. DMA方式。主存和I/O设备之间有一条数据通路，当主存和I/O交换信息时，无须调用中断服务程序。

   DMA方式是一种完全由硬件进行成组信息传送的控制方式，它具有程序中断方式的优点，即在数据准备阶段，CPU与外设并行工作。DMA方式在外设与内存之间开辟一条“直接数据通道”，信息传送不再经过CPU，降低了CPU在传送数据时的开销，因此称为直接存储器存取方式。由于数据传送不经过CPU，也就不需要保护、恢复CPU现场等琐碎操作。

4. 通道方式。在系统中设有通道控制部件，每个通道都挂接若干外设，主机在执行I/O命令时，只需启动有关通道，通道将执行通道程序，从而完成IO操作。

## DMA方式和中断方式的区别

![image-20220810171757212](C:\Users\lirui\AppData\Roaming\Typora\typora-user-images\image-20220810171757212.png)
